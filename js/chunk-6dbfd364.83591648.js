(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dbfd364"],{"0887":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"health"},[a("hr",{staticStyle:{"margin-top":"30px"}}),a("h3",[t._v("The Cumulative Covid-19 Confirmed Global Map 2020 - 2021")]),a("h4",{attrs:{id:"slider_h4"}},[t._v(" From 2020-03-01 to 2021-11-02 (included 2021-11-01) (611 days) ")]),t._m(0),a("svg",{staticStyle:{height:"700px",width:"1200px"},attrs:{id:"proportionalmap"}}),a("hr",{staticStyle:{"margin-top":"30px"}}),a("h3",[t._v("The Cumulative Covid-19 Bar chart 2020 - 2021 (Confirmed or Deaths)")]),t._m(1),t._m(2),t._m(3),a("div",{attrs:{id:"barchart"}},[a("svg",{staticStyle:{height:"500px",width:"1200px"},attrs:{id:"barchartsvg"}})]),a("hr",{staticStyle:{"margin-top":"30px"}}),a("h3",[t._v("The Cumulative Covid-19 Vaccinated Global Map 2021")]),a("h4",[t._v(" Please click the area of a country on the map to get the details of people vaccinated and confirmed. ")]),a("div",{staticClass:"container",staticStyle:{"margin-top":"-20px"}},[a("div",{staticClass:"row",staticStyle:{height:"100%",width:"110%","margin-right":"-20%"}},[a("div",{staticClass:"col-md-7"},[a("svg",{staticStyle:{height:"130%",width:"130%","margin-top":"20%","margin-right":"0%","margin-left":"-30%"},attrs:{id:"chloroplethmap"}})]),a("div",{staticClass:"col-md-5"},[a("svg",{staticStyle:{height:"100%",width:"100%","margin-top":"0%","margin-right":"-80%","margin-left":"0%"},attrs:{id:"piechart"}}),a("svg",{staticStyle:{width:"124%",height:"100%","margin-top":"-50%","margin-left":"-20%"},attrs:{id:"linechart"}})])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dayslider"},[a("input",{staticStyle:{width:"611px"},attrs:{id:"slider",type:"range",min:"1",max:"611",value:"611",step:"1"}}),a("span",{attrs:{id:"range"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commands"},[a("select",{attrs:{id:"type"}},[a("option",{attrs:{value:"cases"}},[t._v("Total Confirmed Cases")]),a("option",{attrs:{value:"deaths"}},[t._v("Total Deaths")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commands"},[a("span",{staticClass:"filter",attrs:{id:"reset"}},[t._v("Reset")]),a("span",{staticClass:"filter",attrs:{id:"top10"}},[t._v("Filter top 10 by value")]),a("span",{staticClass:"filter",attrs:{id:"top20"}},[t._v("Filter top 10 to 20 by value")]),a("span",{staticClass:"filter",attrs:{id:"top30"}},[t._v("Filter top 20 to 30 by value")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commands"},[a("span",{staticClass:"sort",attrs:{id:"name"}},[t._v("Order alphabetic by name")]),a("span",{staticClass:"sort",attrs:{id:"asvalue"}},[t._v("Order ascending by value")]),a("span",{staticClass:"sort",attrs:{id:"desvalue"}},[t._v("Order descending by value")]),a("span",{staticClass:"sort",attrs:{id:"asgdp"}},[t._v("Order ascending by GDP")])])}],o=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("4ec9"),a("d81d"),a("a15b"),a("4e82"),a("b0c0"),a("fb6a"),a("e9c4"),a("898b")),i=a("3fe2"),s={name:"Health",components:{},methods:{map:function(){var t=document.getElementById("slider"),e=document.getElementById("range");e.innerHTML=t.value+"days",t.oninput=function(){e.innerHTML=this.value+"days"};var a=new Date("2020/03/01"),n=new Date("2021/11/02"),r=o["R"].count(a,n),s=o["J"]().domain([a,n]).range([0,r]),l=o["S"]("%Y/%m/%d");o["P"]("#slider_h4").text("From ".concat(l(s.invert(1))," to ").concat(l(s.invert(r))," (included 2021-11-01) (").concat(r," days)"));var c=[],d=["healthcountries-110m.json","confirm_death.json"];d.forEach((function(t){return c.push(o["r"](t))})),Promise.all(c).then((function(t){var e=t[0],a=t[1],n=o["H"]([0,46100496],[0,60]);function r(t){return"2021/11/02"==t.date}a=a.filter(r),a=new Map(a.map((function(t){return[t.location,+t.total_cases]})));var s=o["P"]("#proportionalmap").attr("viewBox",[30,100,950,360]),l=800,c=800;s.append("text").attr("x",80).attr("y",15).attr("fill","red").style("font-size","1em").text("The date is: 2021/11/02");var d=o["k"]().fitSize([l,c],i.feature(e,e.objects.land)),u=o["l"]().projection(d);s.append("path").datum(i.feature(e,e.objects.land)).attr("fill","#ccc").attr("d",u),s.append("path").datum(i.mesh(e,e.objects.countries,(function(t,e){return t!==e}))).attr("fill","none").attr("stroke","black").attr("stroke-linejoin","round").attr("d",u);var p=s.append("g").attr("fill","black").attr("transform","translate(840,160)").attr("text-anchor","middle").style("font","16px sans-serif").selectAll("g").data([0,1e6,3e6,1e7,3e7,5e7]).join("g");p.append("circle").attr("fill","none").attr("stroke","purple").attr("cy",(function(t){return-n(t)})).attr("r",n),p.append("text").attr("y",(function(t){return-2*n(t)})).attr("dy","1.2em").text(o["j"](".1s")),s.append("g").attr("fill","purple").attr("fill-opacity",.5).attr("stroke","#fff").attr("stroke-width",.5).selectAll("circle").data(i.feature(e,e.objects.countries).features.map((function(t){return t.value=a.get(t.properties.name),t})).sort((function(t,e){return e.value-t.value}))).join("circle").attr("transform",(function(t){return"translate(".concat(u.centroid(t),")")})).attr("r",(function(t){return n(t.value)})).append("title").text((function(t){return"".concat(t.properties.name,", ").concat(a.get(t.properties.name))}))})),o["Q"]("input").on("change",(function(){var t=this.value,e=s.invert(t),a=o["S"]("%Y/%m/%d")(e),n=o["P"]("#proportionalmap").attr("viewBox",[30,100,950,360]);n.selectAll("text").remove(),n.append("text").attr("x",80).attr("y",15).attr("fill","red").style("font-size","1em").text("The date is: ".concat(a)),Promise.all(c).then((function(t){var e=t[0],n=t[1],r=800,s=800,l=o["k"]().fitSize([r,s],i.feature(e,e.objects.land)),c=o["l"]().projection(l),d=o["H"]([0,46100496],[0,60]);function u(t){return t.date==a}n=n.filter(u),n=new Map(n.map((function(t){return[t.location,+t.total_cases]})));var p=o["P"]("#proportionalmap");p.selectAll("circle").remove();var f=p.append("g").attr("fill","black").attr("transform","translate(840,160)").attr("text-anchor","middle").style("font","16px sans-serif").selectAll("g").data([0,1e6,3e6,1e7,3e7,5e7]).join("g");f.append("circle").attr("fill","none").attr("stroke","purple").attr("cy",(function(t){return-d(t)})).attr("r",d),f.append("text").attr("y",(function(t){return-2*d(t)})).attr("dy","1.2em").text(o["j"](".1s")),p.append("g").attr("fill","purple").attr("fill-opacity",.5).attr("stroke","#fff").attr("stroke-width",.5).selectAll("circle").data(i.feature(e,e.objects.countries).features.map((function(t){return t.value=n.get(t.properties.name),t})).sort((function(t,e){return e.value-t.value}))).join("circle").attr("transform",(function(t){return"translate(".concat(c.centroid(t),")")})).attr("r",(function(t){return d(t.value)})).append("title").text((function(t){return"".concat(t.properties.name,", ").concat(n.get(t.properties.name))}))}))}))},bar:function(){var t,e,a,n,r,i,s,l,c,d={top:50,left:100,bottom:50,right:50},u=1200-d.left-d.right,p=500-d.top-d.bottom,f=o["P"]("#barchartsvg").attr("width",u+d.left+d.right).attr("height",p+d.top+d.bottom).append("g").attr("transform","translate("+d.left+", "+d.top+")"),h=o["z"](),m=o["A"](),v=function(t,e){return 50*e};function g(o){"#reset"===o?r=JSON.parse(JSON.stringify(t)):"#top10"===o?r=JSON.parse(JSON.stringify(e)):"#top20"===o?r=JSON.parse(JSON.stringify(a)):"#top30"===o&&(r=JSON.parse(JSON.stringify(n))),s=o}function y(t){"#reset"===t||"#name"===t?r.sort((function(t,e){return o["b"](t.location,e.location)})):"#asvalue"===t?"cases"==document.getElementById("type").value?r.sort((function(t,e){return o["b"](t.total_cases,e.total_cases)})):"deaths"==document.getElementById("type").value&&r.sort((function(t,e){return o["b"](t.total_deaths,e.total_deaths)})):"#desvalue"===t?"cases"==document.getElementById("type").value?r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})):"deaths"==document.getElementById("type").value&&r.sort((function(t,e){return o["h"](t.total_deaths,e.total_deaths)})):"#asgdp"===t&&r.sort((function(t,e){return o["b"](t.GDP,e.GDP)})),h.domain(r.map((function(t){return t.location}))),i=t}function x(t){o["Q"](".sort").style("background-color","#eee"),o["P"](t).style("background-color","yellow"),o["P"]("#reset").style("background-color","#eee")}function b(t){o["Q"](".filter").style("background-color","#eee"),o["P"](t).style("background-color","lightgreen"),o["P"]("#reset").style("background-color","#eee")}function _(t){o["Q"](".filter").style("background-color","#eee"),o["Q"](".sort").style("background-color","#eee"),o["P"](t).style("background-color","red")}function k(){var t;h.domain(r.map((function(t){return t.location}))).range([0,u]).paddingInner(.2),"cases"==document.getElementById("type").value?(m.domain([0,o["t"](r,(function(t){return t.total_cases}))]).range([p,0]),t=f.selectAll(".bar").data(r,(function(t){return t.location})),t.transition().duration(750).delay(v).attr("x",(function(t){return h(t.location)})).attr("width",h.bandwidth()),t.enter().append("rect").attr("x",(function(t){return h(t.location)})).attr("y",m(0)).attr("width",h.bandwidth()).merge(t).transition().duration(750).attr("class","bar").attr("x",(function(t){return h(t.location)})).attr("y",(function(t){return m(t.total_cases)})).attr("width",h.bandwidth()).attr("height",(function(t){return p-m(t.total_cases)})),t.exit().transition().duration(750).style("opacity",0).remove()):"deaths"==document.getElementById("type").value&&(m.domain([0,o["t"](r,(function(t){return t.total_deaths}))]).range([p,0]),t=f.selectAll(".bar").data(r,(function(t){return t.location})),t.transition().duration(750).delay(v).attr("x",(function(t){return h(t.location)})).attr("width",h.bandwidth()),t.enter().append("rect").attr("x",(function(t){return h(t.location)})).attr("y",m(0)).attr("width",h.bandwidth()).merge(t).transition().duration(750).attr("class","bar").attr("x",(function(t){return h(t.location)})).attr("y",(function(t){return m(t.total_deaths)})).attr("width",h.bandwidth()).attr("height",(function(t){return p-m(t.total_deaths)})),t.exit().transition().duration(750).style("opacity",0).remove()),f.selectAll("#x-axis").transition().duration(750).delay(v).call(l),f.selectAll("#y-axis").transition().duration(750).delay(v).call(c)}function w(){var t=f.transition().duration(750);t.selectAll(".bar").delay(v).attr("x",(function(t){return h(t.location)})),t.select("#x-axis").call(l),t.select("#y-axis").call(c)}function P(){h.domain(r.map((function(t){return t.location}))).range([0,u]).paddingInner(.2),m.domain([0,o["t"](r,(function(t){return t.total_cases}))]).range([p,0]),f.selectAll(".bar").data(r,(function(t){return t.location})).enter().append("rect").attr("class","bar").attr("x",(function(t){return h(t.location)})).attr("y",(function(t){return m(t.total_cases)})).attr("width",h.bandwidth()).attr("height",(function(t){return p-m(t.total_cases)})),l=o["c"]().scale(h),f.append("g").attr("id","x-axis").attr("class","axis").attr("transform","translate(0,"+p+")").call(l),c=o["d"]().scale(m).ticks(15,"d"),f.append("g").attr("id","y-axis").attr("class","axis").call(c),f.append("text").attr("x",u/2).attr("y",8.85*d.top).attr("class","xlabel").append("tspan").text("Country").style("font-size","1.2em"),f.append("text").attr("x",-3*p/7).attr("y",.8*-d.left).attr("transform","rotate(-90)").attr("class","ylabel").append("tspan").text("Number of People").style("font-size","1.2em")}o["r"]("total.json",(function(t){return console.log("load data"),{location:t.location,total_cases:+t.total_cases,total_deaths:+t.total_deaths,GDP:+t.GDP}})).then((function(r){function l(t){return"2021-11-01"==t.date}function c(){var t=document.getElementById("type").value;"cases"==t&&(e=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(0,10),a=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(10,20),n=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(20,30)),"deaths"==t&&(e=r.sort((function(t,e){return o["h"](t.total_deaths,e.total_deaths)})).slice(0,10),a=r.sort((function(t,e){return o["h"](t.total_deaths,e.total_deaths)})).slice(10,20),n=r.sort((function(t,e){return o["h"](t.total_deaths,e.total_deaths)})).slice(20,30)),g(s),y(i),k()}r=r.filter(l),document.getElementById("type").addEventListener("change",c),t=r.sort((function(t,e){return o["b"](t.location,e.location)})).slice(0,10),e=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(0,10),a=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(10,20),n=r.sort((function(t,e){return o["h"](t.total_cases,e.total_cases)})).slice(20,30),g("#reset"),y("#reset"),b("#reset"),x("#reset"),P()})),o["P"]("#name").on("click",(function(){y("#name"),w(),x("#name")})),o["P"]("#asvalue").on("click",(function(){y("#asvalue"),w(),x("#asvalue")})),o["P"]("#desvalue").on("click",(function(){y("#desvalue"),w(),x("#desvalue")})),o["P"]("#asgdp").on("click",(function(){y("#asgdp"),w(),x("#asgdp")})),o["P"]("#top10").on("click",(function(){g("#top10"),y(i),x(i),b("#top10"),k()})),o["P"]("#top20").on("click",(function(){g("#top20"),y(i),x(i),b("#top20"),k()})),o["P"]("#top30").on("click",(function(){g("#top30"),y(i),x(i),b("#top30"),k()})),o["P"]("#reset").on("click",(function(){g("#reset"),y("#reset"),_("#reset"),k()}))},map2:function(){function t(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.color,n=e.title,r=e.tickSize,i=void 0===r?6:r,s=e.width,l=void 0===s?420:s,c=e.height,d=void 0===c?54+i:c,u=e.marginTop,p=void 0===u?18:u,f=e.marginRight,h=void 0===f?0:f,m=e.marginBottom,v=void 0===m?16+i:m,g=e.marginLeft,y=void 0===g?0:g,x=e.ticks,b=void 0===x?l/64:x,_=e.tickFormat,k=e.tickValues,w=o["f"]("svg").attr("width",l).attr("height",d).attr("viewBox",[0,0,l,d]).style("overflow","visible").style("display","block");if(a.interpolator){if(t=Object.assign(a.copy().interpolator(o["q"](y,l-h)),{range:function(){return[y,l-h]}}),w.append("image").attr("x",y).attr("y",p).attr("width",l-y-h).attr("height",d-p-v).attr("preserveAspectRatio","none"),!t.ticks){if(void 0===k){var P=Math.round(b+1);k=o["x"](P).map((function(t){return o["w"](a.domain(),t/(P-1))}))}"function"!==typeof _&&(_=o["j"](void 0===_?",f":_))}}else if(a.invertExtent){var j=a.thresholds?a.thresholds():a.quantiles?a.quantiles():a.domain(),C=void 0===_?function(t){return t}:"string"===typeof _?o["j"](_):_;t=o["A"]().domain([-1,a.range().length-1]).rangeRound([y,l-h]),w.append("g").selectAll("rect").data(a.range()).join("rect").attr("x",(function(e,a){return t(a-1)})).attr("y",p).attr("width",(function(e,a){return t(a)-t(a-1)})).attr("height",d-p-v).attr("fill",(function(t){return t})),k=o["x"](j.length),_=function(t){return C(j[t],t)}}return w.append("g").attr("transform","translate(0, ".concat(d-v,")")).call(o["c"](t).ticks(b,"string"===typeof _?_:void 0).tickFormat("function"===typeof _?_:void 0).tickSize(i).tickValues(k)).call((function(t){return t.selectAll(".tick line").attr("y1",p+v-d)})).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.append("text").attr("y",p+v-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(n)})).style("font-size","1.2em"),w.node()}var e=[];e.push(o["r"]("healthcountries-110m.json")),e.push(o["r"]("vaccination.json")),Promise.all(e).then((function(e){var a,n,r=e[0],s=e[1],l=1400,c=1e3,d=o["k"]().fitSize([l,c],i.feature(r,r.objects.land)),u=o["l"]().projection(d),p=o["E"]([0,100],o["K"][5]);s=Object.assign(new Map(s.map((function(t){return[t.location,[+t.vaccinated_rate,+t.not_vaccinated_rate]]})))),s.title="Total Covid19 Vaccinated Rate (%)";var f=o["P"]("#chloroplethmap").attr("viewBox",[0,150,1400,800]);function h(t,e){var a=["People Vaccinated Rate","People Not Vaccinated Rate"],n=["#1ea67d","#81f0ce"],r=o["P"]("#piechart").attr("viewBox","0 50 300 300"),i=Math.min(300,300)/4,s=r.append("g").attr("transform","translate(150,150)"),l=o["C"]().domain(a).range(n),c=o["v"]().sort(null).sortValues(o["h"]),d=o["a"]().outerRadius(i).innerRadius(0),u=o["a"]().innerRadius(i/3).outerRadius(i),p=o["P"]("body").append("div").attr("class","tool"),f=o["j"](".2~f"),h=s.selectAll(".arc").data(c(e)).enter().append("g").attr("class","arc").attr("stroke-width","1.5").attr("stroke","").on("mouseover",(function(){o["P"](this).transition().attr("stroke-width","1.5").attr("stroke","red"),p.transition().style("opacity",.1)})).on("mouseout",(function(){o["P"](this).transition().attr("stroke-width","1.5").attr("stroke",""),p.transition().style("opacity",0)}));h.append("path").attr("d",d).attr("fill",(function(t,e){return l(e)})).append("title").text((function(t,e){return"".concat(a[e],"：").concat(f(t.value),"%")})),r.selectAll("rect").remove(),r.selectAll("text").remove(),h.append("text").attr("transform",(function(t){return"translate("+u.centroid(t)+")"})).attr("text-anchor","middle").attr("fill","black").style("font-size","0.6em").text((function(t){return f(t.value)+"%"})),r.append("rect").style("fill",n[0]).style("stroke",n[0]).attr("x",20).attr("y",50).attr("width",10).attr("height",10),r.append("text").attr("x",33).attr("y",57).text(a[0]).style("font-size","0.5em"),r.append("rect").style("fill",n[1]).style("stroke",n[1]).attr("x",150).attr("y",50).attr("width",10).attr("height",10),r.append("text").attr("x",163).attr("y",57).text(a[1]).style("font-size","0.5em"),r.append("text").attr("x",40).attr("y",40).attr("fill","red").style("font-size","0.6em").text(t+" Vaccinated Pie Chart:")}function m(t){o["r"]("totalcasedata.json",(function(t){return{name:t.name,date:o["T"]("%Y-%m-%d")(t.date),value:+t.value}})).then((function(e){var a={top:20,left:100,bottom:20,right:100},n=580-a.left-a.right,r=280-a.top-a.bottom;o["P"]("#linechart").selectAll("*").remove();var i=o["P"]("#linechart").attr("viewBox","0 50 500 300").append("g").attr("transform","translate("+a.left+", "+a.top+")");function s(e){return e.name==t}e=e.filter(s);var l=e.map((function(t){return{date:t.date,value:t.value}})),c=l,d=o["J"]().domain([new Date("2020-01-01"),new Date("2021-11-10")]).range([0,n]);i.append("g").attr("transform","translate(0,"+r+")").call(o["c"](d)).attr("font-size","0.85em");var u=o["A"]().domain([0,o["t"](e,(function(t){return+t.value}))]).range([r,0]);i.append("g").call(o["d"](u)).attr("font-size","0.85em");var p=o["s"]().x((function(t){return d(new Date(t.date))})).y((function(t){return u(+t.value)})),f="purple";i.append("path").datum(c).attr("fill","none").attr("stroke",f).attr("stroke-width",2).attr("d",p),i.append("rect").style("fill",f).style("stroke",f).attr("x",6).attr("y",-15).attr("width",15).attr("height",15),i.append("text").attr("x",26).attr("y",-4).style("font-size","0.7em").text(""+t),i.append("text").attr("x",180).attr("y",280).attr("text-anchor","middle").style("font-size","12px").text(" Date "),i.append("text").attr("x",-120).attr("y",-90).attr("transform","rotate(-90)").attr("text-anchor","middle").style("font-size","12px").text(" Confirmed Number of People "),i.append("text").attr("x",170).attr("y",-30).attr("text-anchor","middle").style("font-size","0.85em").text("  Covid-19 Line Chart (2020 - 2021) ")}))}o["P"]("#chloroplethmap").append("g").attr("transform","translate(1000,5)").style("font-size","1.2em").append((function(){return t({color:p,title:s.title,width:360})})),h("United States",[68.06770576,31.93229424]),m("United States"),f.append("g").selectAll("path").data(i.feature(r,r.objects.countries).features).join("path").attr("fill",(function(t){return s.has(t.properties.name)?p(s.get(t.properties.name)[0]):"#ccc"})).attr("d",u).on("click",(function(){f.selectAll("path").data(i.feature(r,r.objects.countries).features).attr("fill",(function(t){return s.has(t.properties.name)?p(s.get(t.properties.name)[0]):"#ccc"})),o["P"](this).transition().attr("fill","purple"),a=o["P"](this)["_groups"][0][0]["__data__"]["properties"]["name"],n=s.get(a),h(a,n),m(a)})).append("title").text((function(t){return"".concat(t.properties.name)})),f.append("path").datum(i.mesh(r,r.objects.countries,(function(t,e){return t!==e}))).attr("fill","none").attr("stroke","black").attr("stroke-linejoin","round").attr("d",u)}))}},mounted:function(){this.map(),this.bar(),this.map2()}},l=s,c=(a("38c0"),a("a1d7"),a("2877")),d=Object(c["a"])(l,n,r,!1,null,"f1bdbc32",null);e["default"]=d.exports},"38c0":function(t,e,a){"use strict";a("fe75")},"6ee5":function(t,e,a){},a1d7:function(t,e,a){"use strict";a("6ee5")},fe75:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6dbfd364.83591648.js.map